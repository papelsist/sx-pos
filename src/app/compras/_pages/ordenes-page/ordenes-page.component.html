<sx-nav-layout [header]="'Ordenes de compra'" [modulo]="'Compras'">

  <md-card layout [style.height.%]="100">
    <div layout="row" layout-align="start center" class="pad-left-sm pad-right-sm">
      <span  class="push-left-sm" flex>
          <span class="md-title">Ordenes de compra</span>
      </span>
      <td-search-box #searchBox backIcon="arrow_back" class="push-right-sm" 
        placeholder="Documento  " (searchDebounce)="search($event)" flex>
      </td-search-box>
      <span>
        <md-checkbox  [(ngModel)]="pendientes"> Pendientes </md-checkbox>
        <button md-icon-button [mdMenuTriggerFor]="toolbarMenu"><md-icon>more_vert</md-icon></button>
        <md-menu #toolbarMenu="mdMenu">
          <button  (click)="load()" md-menu-item><md-icon>refresh</md-icon> Refrescar</button>
          <button  (click)="recibir()" md-menu-item [disabled]="!pendienteSelected">
            <md-icon>flight_land</md-icon> Recibir
          </button>
        </md-menu>
      </span>
    </div>

    <md-divider></md-divider>
    
    <ng-template tdLoading [tdLoadingUntil]="!procesando" tdLoadingStrategy="overlay" tdLoadingType="linear">  
      <sx-ordenes-list [compras]="ordenes" [selectedRows]="selectedRows" ></sx-ordenes-list>
    </ng-template>
    
  </md-card>

  <a md-fab color="accent" class="mat-fab-bottom-right" [routerLink]="['create']">
    <md-icon>add</md-icon>
  </a>
  
</sx-nav-layout>

