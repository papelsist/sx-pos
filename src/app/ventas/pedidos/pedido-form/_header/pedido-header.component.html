<div layout="column" [formGroup]="parent">
  <div layout class="row1">
    <md-form-field class="pad-right " *ngIf="parent.get('id').value" flex="60">
      <input type="text" mdInput placeholder="Cliente" class="tc-indigo-700"
          value="{{parent.get('cliente').value.nombre}}" [disabled]="true">
    </md-form-field>
    <sx-cliente-field flex="60" formControlName="cliente"  *ngIf="!parent.get('id').value"></sx-cliente-field>
    <div layout layout-align="center center" class="pad-left" >
      <!-- <md-form-field flex class="pad-right">
        <input type="text" mdInput placeholder="RFC" [disabled]="true" value="{{cliente?.rfc}}">
      </md-form-field> -->
      <md-form-field class="pad-right" *ngIf="parent.get('id').value">
        <input type="text" mdInput placeholder="Documento" 
          value="{{parent.get('tipo').value}} - {{parent.get('documento').value}}" [disabled]="true">
      </md-form-field>

      <md-form-field class="pad-right" *ngIf="!parent.get('id').value">
        <input type="text" mdInput placeholder="CFD Email" formControlName="cfdiMail">
      </md-form-field>
    </div>

    <span flex></span>

    <span>
      <button md-icon-button  (click)="insertar.emit()"  type="button" mdTooltip="Agregar partida" >
        <md-icon>add</md-icon>
      </button>
      <button md-icon-button [matMenuTriggerFor]="toolbarMenu" type="button"><md-icon>more_vert</md-icon></button>
      <md-menu #toolbarMenu="mdMenu">
        <button md-menu-item (click)="addCliente.emit()"  mdTooltip="Buscr cliente" type="button">
          <md-icon>person_add</md-icon>
          <span>Agregar cliente</span>
        </button>

        <button md-menu-item (click)="descuento.emit()"  mdTooltip="Descuento especial" type="button">
          <md-icon>keyboard_arrow_right</md-icon>
          <span>Descuento especial</span>
        </button>


      </md-menu>
    </span>

  </div>

  <div class="row2" layout *ngIf="cliente?.rfc === 'XAXX010101000' ">
    <md-form-field flex="50" class="pad-right">
      <input type="text" mdInput placeholder="Nombre" formControlName="nombre">
    </md-form-field>
    <span flex></span>
  </div>

  <div layout class="row2">

    <address *ngIf="cliente?.direccion; let direccion" class="text-sm">
        {{direccion.calle}} {{direccion.numeroExterior}}<br>
        {{direccion.colonia}}<br>
        {{direccion.estado}} / {{direccion.pais}}<br>
        {{direccion.codigoPostal}}<br>
    </address>
    
    <div layout class="pad-left pad-right">
        <span>RFC:</span>
        <span class="tc-indigo-700 pad-left pad-right">{{cliente?.rfc}}</span>
    </div>

    <div layout="column" layout-align="">
      <span class="text-right pad-left" > Cr√©dito: {{cliente?.credito? 'SI': 'NO'}}</span>
      <span class="text-right pad-left text-md" *ngIf="cliente?.credito && cliente?.credito?.postfechado" >Postfechado</span>
    </div>

    <span *ngIf="comprador">
      <span>Comprador: </span>
      <span class="tc-pink-700">{{comprador}}</span>
    </span>

    
    <span flex></span>
    <div layout layout-align="center center" class="pad-left" *ngIf="kilos > 0">
      <span>Kilos: </span>
      <span class="text-right pad-left">{{kilos}}</span>
    </div>

  </div>
</div>
