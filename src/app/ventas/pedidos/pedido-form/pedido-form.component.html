<form novalidate [formGroup]="form" layout="row" class="pedido-form" (ngSubmit)="onSave()">

  <md-card flex="70" >
    <sx-pedido-header (addCliente)="onAddNewCliente()" [parent]="form" (insertar)="onInsertPartida()">
    </sx-pedido-header>
    <md-divider></md-divider>

    <div layout="row" layout-margin>
      <sx-tipo-field [parent]="form"  ></sx-tipo-field>
      <span layout ="column" layout-align="center center" class="pad">
          <md-checkbox  labelPosition="before" formControlName="cod" mdTooltip="Contr entrega">COD</md-checkbox>
      </span>
      <sx-modo-field [parent]="form" flex="15"></sx-modo-field>
      <sx-forma-de-pago [parent]="form" flex="15"></sx-forma-de-pago>
      <sx-comprador-field [parent]="form" flex></sx-comprador-field>
    </div>
    <md-divider></md-divider>

    <sx-pedido-partidas-grid flex 
      [partidas]="partidas.value" 
      [parent]="form"
      (delete)="onDelete($event)">
    </sx-pedido-partidas-grid>

  </md-card>

  <div flex="30">
    <md-card >
      <td-expansion-panel-group>
        <sx-pedido-envio-panel [parent]="form"></sx-pedido-envio-panel>
        <sx-pedido-comentario-panel [parent]="form" ></sx-pedido-comentario-panel>
        <sx-pedido-cargos-panel [parent]="form"></sx-pedido-cargos-panel>
        <sx-pedido-totales-panel [parent]="form"></sx-pedido-totales-panel>

      </td-expansion-panel-group>
      <md-divider></md-divider>
      <md-card-actions>
        <button type="submit" md-button [disabled]="form.invalid" *ngIf="!disabled"> Salvar </button>
        <a  md-button [routerLink]="['/ventas/pedidos/pendientes']"> Cancelar </a>
        <button type="button" md-icon-button  mdTooltip="Imprimir documento" >
          <md-icon>print</md-icon>
        </button>
      </md-card-actions>
    </md-card>
  </div>

</form>

